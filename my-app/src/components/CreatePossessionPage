// src/components/CreatePossessionPage.js
import React, { useState } from 'react';
import axios from 'axios';
import DatePicker from 'react-datepicker';
import 'react-datepicker/dist/react-datepicker.css';
import { Container, Form, Button } from 'react-bootstrap';

const CreatePossessionPage = () => {
  const [libelle, setLibelle] = useState('');
  const [valeur, setValeur] = useState('');
  const [dateDebut, setDateDebut] = useState(new Date());
  const [taux, setTaux] = useState('');

  const handleSubmit = (e) => {
    e.preventDefault();
    if (libelle && valeur && dateDebut && taux) {
      axios.post(`${process.env.REACT_APP_API_URL}/api/possessions`, { libelle, valeur, dateDebut, taux })
        .then(() => {
          // Redirection ou autre logique après la création
        })
        .catch(err => console.error('Erreur lors de la création de la possession:', err));
    } else {
      console.error('Tous les champs doivent être remplis');
    }
  };
  
  return (
    <Container>
      <h1>Create Possession</h1>
      <Form onSubmit={handleSubmit}>
        <Form.Group>
          <Form.Label>Libelle</Form.Label>
          <Form.Control type="text" value={libelle} onChange={e => setLibelle(e.target.value)} placeholder="Libelle" />
        </Form.Group>
        <Form.Group>
          <Form.Label>Valeur</Form.Label>
          <Form.Control type="number" value={valeur} onChange={e => setValeur(e.target.value)} placeholder="Valeur" />
        </Form.Group>
        <Form.Group>
          <Form.Label>Date Début</Form.Label>
          <DatePicker selected={dateDebut} onChange={date => setDateDebut(date)} className="form-control" />
        </Form.Group>
        <Form.Group>
          <Form.Label>Taux</Form.Label>
          <Form.Control type="number" value={taux} onChange={e => setTaux(e.target.value)} placeholder="Taux" />
        </Form.Group>
        <Button type="submit">Create</Button>
      </Form>
    </Container>
  );
};

export default CreatePossessionPage;

